!function(t,n,i,e){"use strict";function o(n,i){this.element=n,this.settings=t.extend({},r,i),this._defaults=r,this._name=s,this.init()}var a,s="emotionsRating",r={bgEmotion:"happy",emotionsCollection:["angry","disappointed","meh","happy","inLove"],count:5,color:"red",emotionSize:30,inputName:"rating",emotionOnUpdate:null},c={angry:"&#x1F620;",disappointed:"&#x1F61E;",meh:"&#x1F610;",happy:"&#x1F60A;",smile:"&#x1F603;",wink:"&#x1F609;",laughing:"&#x1F606;",inLove:"&#x1F60D;",heart:"&#x2764;",crying:"&#x1F622;",star:"&#x2B50;"},l={gold:"#d0a658;",red:"#cb2a2a;",blue:"#337ab7;",green:"#26bf78;",black:"#00000;",brown:"#916a3a;",pink:"#f21f6d;",purple:"#ba27bd",orange:"#f89e5e;"},p=!1;t.extend(o.prototype={init:function(){a=t(this.element),this.count=0,this.emotionStyle(),this.renderEmotion(),this.manageHover(),this.manageClick()},emotionStyle:function(){var t=".emotion-style{margin-right:3px;border-radius: 50%;cursor:pointer;opacity:0.3;display: inline-block;font-size:"+this.settings.emotionSize+"px; text-decoration:none;line-height:0.9;text-align: center;color:"+l[this.settings.color]+"}";a.append("<style>"+t+"</style>")},renderEmotion:function(){for(var t=this.settings.count,n=c[this.settings.bgEmotion],i="<div class='emotion-container'>",e=0;e<t;e++)i+="<div class='emotion-style' data-index='"+e+"'>"+n+"</div>";i+="</div>",a.append(i)},clearEmotion:function(n){a.find(".emotion-style").each(function(){t(this).css("opacity",.3);var i=c[n];t(this).html(i)})},showEmotion:function(t){this.clearEmotion(this.settings.bgEmotion);for(var n=u(this.settings.emotions,t),i=0;i<t;i++)a.find(".emotion-style").eq(i).css("opacity",1),a.find(".emotion-style").eq(i).html(n)},manageHover:function(){var n=this;a.on({mouseenter:function(){var i=parseInt(t(this).data("index"),10)+1;p||n.showEmotion(i)},mouseleave:function(){p||n.clearEmotion()}},".emotion-style")},manageClick:function(){var n=this;a.on("click",".emotion-style",function(){var i=t(this).data("index"),e=parseInt(i,10)+1;n.showEmotion(e),n.count=e,p?n.updateInput(e):(n.appendInput(e),p=!0),t.isFunction(n.settings.onUpdate)&&n.settings.onUpdate.call(n,e)})},appendInput:function(t){var n="<input type='hidden' class='emoji-rating' name='"+this.settings.inputName+"' value='"+t+"' />";a.append(n)},updateInput:function(t){a.find("input.emoji-rating").val(t)}}),t.fn[s]=function(n){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new o(this,n))})};var u=function(t,n){return c[t[n-1]]}}(jQuery,document,window);